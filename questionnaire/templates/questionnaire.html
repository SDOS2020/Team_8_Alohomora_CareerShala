{% load static %}

{% block pagecss %} 
<link rel="stylesheet" href="{% static 'css/questionnaire/style.css' %}">
{% endblock pagecss %}

{% block questionnaire %}


<div id="questionnaire" class="container">

	<!-- <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
		<div class="carousel-inner">
		  <div class="carousel-item active">
			<img src="..." class="d-block w-100" alt="...">
		  </div>
		</div>
		<a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
			<span class="carousel-control-prev-icon" aria-hidden="true"></span>
			<span class="sr-only">Previous</span>
		  </a>
		<a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
		  <span class="carousel-control-next-icon" aria-hidden="true"></span>
		  <span class="sr-only">Next</span>
		</a>
	  </div> -->


    <div class="row">
        <div class="col-lg-12">

			<form>
				<div class="card mb-4" style="border: none;">
					<div class="card-header py-3" style="background-color: white;">
						<h2> Question here ! [[ currentQuestion ]] </h2>
					</div>
					<!-- Card Body -->
					
                    <div class="card-body form-check">
						<div class="form-check mt-2" v-for="option in options">
							<label class="form-check-label">
								<input type="radio" class="form-check-input" name="optradio">[[option]]
							</label>
						</div>
                    </div>
                    
                    <div>
                        <div class="col-6 col-md-4 col-lg-2">
                            <div class="btn btn-primary" style="width: 100%;" v-on:click="onPrev"> Prev </div>
                        </div>
                        <div class="col-6 col-md-4 col-lg-2">
                            <div class="btn btn-primary" style="width: 100%;" v-on:click="onNext"> Next </div>
                        </div>
                    </div>

                    
				</div>



		    </form>
        
        </div>
    </div>
</div>

<script>


	new Vue({
		delimiters: ["[[", "]]"],
		data() {
			return {
				currentQuestion: "Is this a question?",
				options: [
					"option1",
					"option2",
					"option3"
				]
			}
		},
		methods: {
			onNext(evt) {
				console.log("Next ...")
				axios.post(`https://localhost:8000/api/users/register/`, {
					body: this.form
				})
				.then(response => {
					console.log(response)
					// currentQuestion = response.nextQuestion
				})
				.catch(e => {
					this.errors.push(e)
				})
			},
			onPrev(evt) {
				console.log("Prev ...")
				axios.post(`https://localhost:8000/api/users/register/`, {
					body: this.form
				})
				.then(response => {
					console.log(response)
				})
				.catch(e => {
					this.errors.push(e)
				})
			},
		},
		computed: {
			
		}
	}).$mount('#questionnaire');


</script>

{% endblock questionnaire %}
